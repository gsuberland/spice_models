# CREE XLamp XP-E2 LED series.
# Datasheet: https://downloads.cree-led.com/files/ds/x/XLamp-XPE2.pdf
# 
# CREE publish models for these LEDs here: https://downloads.cree-led.com/files/da/x/XPE/XLamp-XPE2-Spice.txt
# However, as of 2024-01-03 these models are laughably wrong, producing IV curves that are incorrect by a factor of 6.
#
# These improved models were derived from regressions over the "ELECTRICAL CHARACTERISTICS - COLOR (TJ = 25 Â°C)" graph curves from the datasheet.
# Data extraction was performed using WebPlotDigitizer.
# The regression was performed using Desmos Graphing Calculator, with the formula x - R * y ~ n * 0.02586 * ln( y / I_s - 1 ) where x is voltage and y is current.
#
# Plot images can be found here: https://chaos.social/@gsuberland/111690590418997762

# CREE XLamp XP-E2 Royal Blue
.model CREE_XLAMP_XP_E2_ROYAL_BLUE D
+ Is=1.6073e-11
+ N=4.62529
+ Rs=0.259979
+ Mfg=CREE
+ Type=LED
# Raw IV curve data (V, I):
# 2.738592750533049, 0.09786700125470515
# 2.789765458422175, 0.15997490589711405
# 2.8238805970149254, 0.2032622333751568
# 2.863681592039801, 0.2503136762860727
# 2.8878464818763327, 0.2823086574654956
# 2.9176972281449896, 0.3237139272271017
# 2.9503909026297084, 0.3764115432873276
# 2.987348969438522, 0.4422835633626099
# 3.0171997157071786, 0.4930991217063989
# 3.045628997867804, 0.5495608531994982
# 3.0754797441364605, 0.6097867001254704
# 3.1053304904051173, 0.6737766624843161
# 3.13091684434968, 0.7302383939774153
# 3.1536602700781806, 0.7829360100376411
# 3.1778251599147125, 0.8393977415307403
# 3.2005685856432127, 0.8958594730238394
# 3.2261549395877758, 0.9617314930991216
# 3.2417910447761193, 1.0050188205771644
# 3.254584221748401, 1.048306148055207
# 3.265955934612651, 1.0972396486825595
# 3.2744847192608386, 1.1386449184441656
# 3.2858564321250894, 1.198870765370138
# Regression fit RMSE = 0.00836


# CREE XLamp XP-E2 Blue
.model CREE_XLAMP_XP_E2_BLUE D
+ Is=9.0747e-12
+ N=4.37367
+ Rs=0.272602
+ Mfg=CREE
+ Type=LED
# Raw IV curve data (V, I):
# 2.654726368159204, 0.09786700125470515
# 2.6874200426439234, 0.13927227101631123
# 2.7172707889125802, 0.17503136762860727
# 2.747121535181237, 0.2107904642409033
# 2.7826581378820183, 0.25407779171894607
# 2.826723525230988, 0.3086574654956087
# 2.8565742714996447, 0.35759096612296104
# 2.8977967306325514, 0.42910915934755334
# 2.934754797441365, 0.4968632371392723
# 2.9688699360341153, 0.5646173149309912
# 2.9859275053304906, 0.5984943538268507
# 3.004406538734897, 0.6398996235884566
# 3.025728500355366, 0.6869510664993727
# 3.0427860696517417, 0.732120451693852
# 3.0641080312722107, 0.7848180677540778
# 3.0854299928926796, 0.8412797992471769
# 3.1110163468372427, 0.9109159347553325
# 3.135181236673774, 0.9749058971141781
# 3.1579246624022748, 1.0313676286072773
# 3.1764036958066812, 1.0803011292346298
# 3.1963041933191185, 1.131116687578419
# 3.2233120113717133, 1.198870765370138
# Regression fit RMSE = 0.005311

# CREE XLamp XP-E2 Green
.model CREE_XLAMP_XP_E2_GREEN D
+ Is=1.93238e-6
+ N=8.55048
+ Rs=0.102086
+ Mfg=CREE
+ Type=LED
# Raw IV curve data (V, I):
# 2.4116560056858565, 0.09786700125470515
# 2.674626865671642, 0.3143036386449183
# 2.7243781094527364, 0.3782936010037641
# 2.78407960199005, 0.4648682559598494
# 2.8181947405828005, 0.5232120451693851
# 2.8452025586353944, 0.5740276035131744
# 2.867945984363895, 0.6191969887076537
# 2.889267945984364, 0.664366373902133
# 2.9248045486851457, 0.7490589711417817
# 2.9447050461975834, 0.7979924717691342
# 2.973134328358209, 0.8713927227101632
# 2.994456289978678, 0.9353826850690088
# 3.008670931058991, 0.9805520702634881
# 3.0271499644633977, 1.0407779171894604
# 3.045628997867804, 1.104767879548306
# 3.0712153518123673, 1.1969887076537014
# 3.0911158493248045, 1.2741530740276035
# 3.1124378109452735, 1.3607277289836888
# 3.129495380241649, 1.4303638644918444
# 3.146552949538024, 1.4887076537013801
# Regression fit RMSE = 0.004451

# CREE XLamp XP-E2 PC Amber
.model CREE_XLAMP_XP_E2_PC_AMBER D
+ Is=1.2029e-12
+ N=4.15573
+ Rs=0.320364
+ Mfg=CREE
+ Type=LED
# Raw IV curve data (V, I):
# 2.752807391613362, 0.09974905897114184
# 2.8109476039008703, 0.17330239026867789
# 2.853964370186538, 0.22815143800601567
# 2.896981136472206, 0.2837587675093074
# 2.9219616204690837, 0.31806775407779164
# 2.9447050461975834, 0.3538268506900877
# 2.970605986461137, 0.39579188937438103
# 3.0053502976918685, 0.45316453092539644
# 3.039267363417107, 0.5117993705905342
# 3.0715299381313574, 0.5694004046667671
# 3.102138021834621, 0.6267080787927405
# 3.1310916145268974, 0.6835417652261555
# 3.15921796171368, 0.7401750053539733
# 3.187344308900463, 0.7975169663480094
# 3.214643410581752, 0.8549555710965301
# 3.240288021252054, 0.9115823683073823
# 3.2642781409113684, 0.9673016346427912
# 3.2874410150651894, 1.0241005497782965
# 3.3097766437135165, 1.0818081994110955
# 3.3312850268563508, 1.138089557150791
# 3.3527934099991845, 1.196224492540596
# 3.3743017931420187, 1.2544436814599513
# 3.3958101762848525, 1.3135896592043619
# 3.4173185594276863, 1.37231436930102
# 3.4396541880760134, 1.433555618649953
# 3.462117981520967, 1.4924717691342535
# Regression fit RMSE = 0.007003

# CREE XLamp XP-E2 Amber
.model CREE_XLAMP_XP_E2_AMBER D
+ Is=5.2855e-13
+ N=2.86414
+ Rs=0.481144
+ Mfg=CREE
+ Type=LED
# Raw IV curve data (V, I):
# 2.125988325352162, 0.26687014751092164
# 2.164041618604868, 0.32072500359956435
# 2.1987859298355996, 0.37493385216918096
# 2.309636827571743, 0.5442616675310721
# 2.3452083843079685, 0.599409770219731
# 2.4770412362289047, 0.8228664654554777
# 2.6355715567362252, 1.1095336287424447
# 2.6984422151537393, 1.2295004741874536
# 2.731532035373484, 1.2891308595758686
# 2.763794610087735, 1.3479163209017289
# 2.7944026937909983, 1.4032314025731967
# 2.825097855968524, 1.4597756950575382
# 2.842359630419332, 1.4924717691342535
# 2.5623312011371713, 0.9805520702634881
# 2.5410092395167023, 0.9372647427854455
# 2.5196872778962334, 0.9015056461731493
# 2.4969438521677327, 0.8601003764115432
# 2.44861407249467, 0.7754077791718945
# 2.421606254442075, 0.7283563362609786
# 2.387491115849325, 0.6718946047678794
# 2.278038379530917, 0.49121706398996223
# 2.246766169154229, 0.4422835633626099
# 2.0776119402985076, 0.21267252195734
# 2.026439232409382, 0.1486825595984942
# Regression fit RMSE = 0.001448

# These two models are identical.
# CREE XLamp XP-E2 Red
.model CREE_XLAMP_XP_E2_RED D
+ Is=7.1891e-14
+ N=2.63208
+ Rs=0.556396
+ Mfg=CREE
+ Type=LED
# CREE XLamp XP-E2 Red-Orange
.model CREE_XLAMP_XP_E2_RED_ORANGE D
+ Is=7.1891e-14
+ N=2.63208
+ Rs=0.556396
+ Mfg=CREE
+ Type=LED
# Raw IV curve data (V, I):
# 2.012224591329069, 0.1468005018820575
# 2.060635930418167, 0.19926451358872121
# 2.0953802416488982, 0.2405728155054523
# 2.13012455287963, 0.2826634716251517
# 2.1648688641103617, 0.3264753069913817
# 2.1987859298355996, 0.3720943805664687
# 2.2318757500553437, 0.4171110414052699
# 2.264965570275088, 0.46240152621511
# 2.2972281449893392, 0.5078908936986521
# 2.3286634741980965, 0.5532592021634193
# 2.3600988034068533, 0.5990886878425676
# 2.3907068871101167, 0.6449021604239943
# 2.4204877253078867, 0.6903569396164578
# 2.4502685635056567, 0.7366636156077092
# 2.479222156197933, 0.7825049698181101
# 2.5081757488902094, 0.8284859205627662
# 2.5379565870879794, 0.8763138408375671
# 2.567737425285749, 0.9242634606550522
# 2.5966910179780256, 0.9707025743839302
# 2.6248173651648083, 1.0158029931432844
# 2.653770957857085, 1.0626358406867282
# 2.6835517960548545, 1.1105854605042134
# 2.7133326342526245, 1.1587176296357242
# 2.742286226944901, 1.2054180394415412
# 2.770412574131684, 1.2508406040491766
# 2.7985389213184666, 1.2962631686568122
# 2.8274925140107428, 1.3430315870305998
# 2.8572733522085123, 1.3912246059334528
# 2.8870541904062827, 1.4394176248363055
# 2.920540156361052, 1.4943538268506902
# Regression fit RMSE = 0.001132

# CREE XLamp XP-E2 Photo Red
.model CREE_XLAMP_XP_E2_PHOTO_RED D
+ Is=1.4896e-10
+ N=3.40491
+ Rs=0.567662
+ Mfg=CREE
+ Type=LED
# Raw IV curve data (V, I):
# 1.8530206112295664, 0.0941028858218318
# 1.9034592843743812, 0.14392599296542352
# 1.9382035956051127, 0.17793232232111622
# 1.9729479068358442, 0.21371198787020407
# 2.007692218066576, 0.2518387160281972
# 2.0424365292973072, 0.2911128970172103
# 2.077180840528039, 0.33127374610292093
# 2.1119251517587707, 0.3736773439038079
# 2.146669462989502, 0.4162895694921529
# 2.1814137742202337, 0.4596319923366019
# 2.2161580854509655, 0.5047999083213104
# 2.250902396681697, 0.5488203714749984
# 2.2848194624069347, 0.5940560914906309
# 2.317909282626679, 0.6396751650657179
# 2.3501718573409303, 0.6843488253513228
# 2.381607186549687, 0.7290253679945178
# 2.4130425157584443, 0.7745089707628803
# 2.4444778449672016, 0.8203384564420287
# 2.4759131741759584, 0.8665714721837607
# 2.5073485033847156, 0.9132080179880766
# 2.538783832593473, 0.9599022109441899
# 2.5693919162967367, 1.0054370556252614
# 2.5991727544945062, 1.050891834817725
# 2.628126347186783, 1.0964683135528726
# 2.6562526943735656, 1.142470740687414
# 2.684379041560348, 1.1882798803129866
# 2.7125053887471307, 1.234540024126153
# 2.740172155097528, 1.2729326504446319
# 2.7671035921097094, 1.3255784408503926
# 2.7944026937909983, 1.371456036468725
# 2.821701795472287, 1.4176477242891314
# 2.8437810945273636, 1.4548306148055208
# 2.867945984363895, 1.4962358845671266
# Regression fit RMSE = 0.005253

# CREE XLamp XP-E2 Far Red
.model CREE_XLAMP_XP_E2_FAR_RED D
+ Is=1.5512e-15
+ N=2.0658
+ Rs=0.335864
+ Mfg=CREE
+ Type=LED
# Raw IV curve data (V, I):
# 1.7293532338308457, 0.09222082810539511
# 1.7768907220338588, 0.16212007459667732
# 1.8058443147261352, 0.2074102014666861
# 1.8323161709019307, 0.25418577863710223
# 1.857133536066739, 0.30069934385091623
# 1.8811236557260536, 0.3483812246744964
# 1.9042865298798746, 0.3966524789976462
# 1.9266221585282022, 0.44384047365514756
# 1.948130541671036, 0.49076968961474376
# 1.9696389248138697, 0.5388784549880463
# 1.99032006245121, 0.586060431536294
# 2.0101739545830566, 0.6321541333278483
# 2.030027846714903, 0.6795256803175844
# 2.0490544933412562, 0.7256608705895993
# 2.0680811399676093, 0.772443281156797
# 2.0871077865939625, 0.8196571719207835
# 2.1053071877148217, 0.8653608819960097
# 2.123506588835681, 0.9110645920712359
# 2.1417059899565407, 0.9570670192057773
# 2.1599053910774, 1.0032685910465289
# 2.1781047921982593, 1.0498684522997006
# 2.1963041933191185, 1.0975636094370282
# 2.2145035944399782, 1.145756628339881
# 2.2327029955608375, 1.193949647242734
# 2.2500751511762034, 1.2417045477919246
# 2.2666200612860754, 1.2858449719234013
# 2.283164971395948, 1.3310806919390337
# 2.3005371270113137, 1.3779593557808998
# 2.317909282626679, 1.4259333155069216
# 2.3434257285003555, 1.4943538268506902
# Regression fit RMSE = 0.001256
